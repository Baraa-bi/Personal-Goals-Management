<div class="bg-white max-w-7xl mx-auto drop-shadow rounded">
  <div class="pt-6" *ngIf="goal">
    <div
      class="max-w-7xl mx-auto pt-10 pb-16 px-4 sm:px-6 lg:max-w-7xl lg:pt-16 lg:pb-24 lg:px-8 lg:grid lg:grid-cols-3 lg:grid-rows-[auto,auto,1fr] lg:gap-x-8"
    >
      <div class="lg:col-span-2 lg:border-r lg:border-gray-200 lg:pr-8">
        <dt class="text-sm mb-4 font-medium text-gray-500 dark:text-gray-400">
          My Goal
        </dt>
        <div class="flex items-center mb-8">
          <h1
            class="text-2xl capitalize mr-3 font-extrabold tracking-tight text-gray-900 sm:text-3xl"
          >
            {{ goal.title }}
          </h1>
          <span
            appGoalStatus
            [date]="goal.deadline"
            [steps]="goal.steps"
            class=""
          ></span>
        </div>

        <dl>
          <dt class="text-sm mb-4 font-medium text-gray-500 dark:text-gray-400">
            Progress
          </dt>
          <div class="w-full bg-gray-200 rounded-full dark:bg-gray-700">
            <div
              appGoalProgress
              [steps]="goal.steps"
              class="bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl text-xs font-medium text-blue-100 text-center p-0.5 leading-none rounded-full"
            ></div>
          </div>
        </dl>
      </div>

      <div class="mt-4 lg:mt-0 lg:row-span-3">
        <h1
          class="text-2xl capitalize mb-8 font-extrabold tracking-tight text-gray-900 sm:text-3xl"
        >
          Goal Steps
        </h1>
        <ol class="relative border-l border-gray-200 dark:border-gray-700">
          <li *ngFor="let step of goal?.steps" class="mb-10 ml-6">
            <span
              class="flex absolute -left-3 justify-center items-center w-6 h-6 bg-indigo-200 rounded-full ring-8 ring-white dark:ring-gray-900 dark:bg-indigo-900"
            >
              <svg
                aria-hidden="true"
                class="w-3 h-3 text-indigo-600 dark:text-indigo-400"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                  clip-rule="evenodd"
                ></path>
              </svg>
            </span>
            <h3
              class="flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white"
            >
              {{ step.title }}

              <span
                class="bg-indigo-100 capitalize text-indigo-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-indigo-200 dark:text-indigo-800 ml-3"
                >{{ step.status }}</span
              >
            </h3>
            <div class="flex my-2 items-center">
              <time
                class="text-sm font-normal mr-3 leading-none text-gray-400 dark:text-gray-500"
                >{{ step.deadline | date }}</time
              >
              <span
                appCheckDate
                [date]="step.deadline"
                [status]="step.status"
                class="display-none bg-red-100 text-red-800 text-xs font-medium mr-2  px-2.5 rounded-full"
              >
            <div>
              
            </div>
            </span>
            </div>
            <p
              class="mb-4 text-base font-normal text-gray-500 dark:text-gray-400"
            >
              {{ step.description }}
            </p>
          </li>
        </ol>
      </div>

      <div class="mt-10">
        <dt class="text-sm mb-4 font-medium text-gray-500 dark:text-gray-400">
          Description
        </dt>
        <div class="space-y-6">
          <p class="text-base text-gray-900">
            {{ goal.description }}
          </p>
        </div>

        <div class="mt-10">
          <dt class="text-sm mb-4 font-medium text-gray-500 dark:text-gray-400">
            Deadline
          </dt>
          <div class="mt-4">
            {{ goal.deadline | date }}
          </div>
        </div>
        <div class="mt-10">
          <button
            type="button"
            class="text-white bg-gradient-to-br from-purple-600 to-indigo-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-indigo-300 dark:focus:ring-indigo-800 font-medium rounded-lg text-sm px-12 py-3.5 text-center mr-2 mb-2"
            (click)="onUpdateGoal()"
          >
            Update Goal
          </button>
          <button
            (click)="onDeleteGoal()"
            type="button"
            class="text-white bg-gradient-to-br from-pink-500 to-orange-400 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-pink-200 dark:focus:ring-pink-800 font-medium rounded-lg text-sm px-12 py-3.5 text-center mr-2 mb-2"
          >
            Delete Goal
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
